@page
@model BarberShopScheduler.Web.Pages.CalendarModel
@{
}


<div class="container mt-4">
    <div class="row">
        <div class="col">
            <button id="prevMonth" class="btn btn-secondary">Mês Anterior</button>
        </div>
        <div class="col text-center">
            <h3 id="currentMonthYear"></h3>
        </div>
        <div class="col text-end">
            <button id="nextMonth" class="btn btn-secondary">Próximo Mês</button>
        </div>
    </div>
    <table class="table mt-4" id="calendarTable">
        <thead>
            <tr>
                <th>Dom</th>
                <th>Seg</th>
                <th>Ter</th>
                <th>Qua</th>
                <th>Qui</th>
                <th>Sex</th>
                <th>Sáb</th>
            </tr>
        </thead>
        <tbody id="calendarBody">
            <!-- Conteúdo gerado dinamicamente -->
        </tbody>
    </table>
</div>

<!-- Modal Agendamento -->
<div class="modal fade" id="modalAgendamento" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalLabel">Agendar Serviço</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="formAgendamento">
                    <div class="mb-3">
                        <label for="nome" class="form-label">Nome:</label>
                        <input type="text" class="form-control" id="nome" required>
                    </div>
                    <div class="mb-3">
                        <label for="whatsapp" class="form-label">WhatsApp:</label>
                        <input type="text" class="form-control" id="whatsapp" required>
                    </div>
                    <div class="mb-3">
                        <label for="service" class="form-label">Tipo de Serviço:</label>
                        <select class="form-select" id="service" required>
                            <option value="30">Corte de Cabelo (30 min)</option>
                            <option value="20">Barba (20 min)</option>
                            <option value="50">Corte e Barba (50 min)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="time" class="form-label">Horário:</label>
                        <div id="timeSlotsContainer">
                            <!-- Horários disponíveis serão inseridos aqui -->
                        </div>
                    </div>
                    <input type="hidden" id="selectedDate">
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" id="confirmarAgendamento">Confirmar</button>
            </div>
        </div>
    </div>
</div>